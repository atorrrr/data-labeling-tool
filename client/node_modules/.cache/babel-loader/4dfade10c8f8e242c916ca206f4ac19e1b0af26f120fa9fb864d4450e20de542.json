{"ast":null,"code":"import React,{useState}from'react';import{useNavigate}from'react-router-dom';import axios from'axios';import{Container,Typography,TextField,Button,Box}from'@mui/material';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function DatasetUpload(){const[file,setFile]=useState(null);const[datasetName,setDatasetName]=useState('');const[labelOptions,setLabelOptions]=useState('');const navigate=useNavigate();const handleSubmit=async e=>{e.preventDefault();const formData=new FormData();formData.append('file',file);formData.append('datasetName',datasetName);formData.append('labelOptions',labelOptions);try{await axios.post(\"\".concat(process.env.REACT_APP_API_URL,\"/api/items/upload\"),formData,{headers:{'Content-Type':'multipart/form-data'}});navigate('/');}catch(err){alert('Upload failed');}};return/*#__PURE__*/_jsxs(Container,{maxWidth:\"sm\",children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",component:\"h1\",gutterBottom:true,children:\"Upload Dataset\"}),/*#__PURE__*/_jsxs(Box,{component:\"form\",onSubmit:handleSubmit,noValidate:true,sx:{mt:1},children:[/*#__PURE__*/_jsx(TextField,{margin:\"normal\",required:true,fullWidth:true,id:\"datasetName\",label:\"Dataset Name\",name:\"datasetName\",autoFocus:true,value:datasetName,onChange:e=>setDatasetName(e.target.value)}),/*#__PURE__*/_jsx(TextField,{margin:\"normal\",required:true,fullWidth:true,id:\"labelOptions\",label:\"Label Options (comma-separated)\",name:\"labelOptions\",value:labelOptions,onChange:e=>setLabelOptions(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{accept:\"application/json\",style:{display:'none'},id:\"raised-button-file\",type:\"file\",onChange:e=>setFile(e.target.files[0])}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"raised-button-file\",children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",component:\"span\",fullWidth:true,sx:{mt:2,mb:2},children:\"Choose JSON File\"})}),/*#__PURE__*/_jsx(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",sx:{mt:3,mb:2},children:\"Upload\"})]})]});}export default DatasetUpload;","map":{"version":3,"names":["React","useState","useNavigate","axios","Container","Typography","TextField","Button","Box","jsx","_jsx","jsxs","_jsxs","DatasetUpload","file","setFile","datasetName","setDatasetName","labelOptions","setLabelOptions","navigate","handleSubmit","e","preventDefault","formData","FormData","append","post","concat","process","env","REACT_APP_API_URL","headers","err","alert","maxWidth","children","variant","component","gutterBottom","onSubmit","noValidate","sx","mt","margin","required","fullWidth","id","label","name","autoFocus","value","onChange","target","accept","style","display","type","files","htmlFor","mb"],"sources":["/home/ec2-user/labeling-tool/client/src/pages/DatasetUpload.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { Container, Typography, TextField, Button, Box } from '@mui/material';\r\n\r\nfunction DatasetUpload() {\r\n  const [file, setFile] = useState(null);\r\n  const [datasetName, setDatasetName] = useState('');\r\n  const [labelOptions, setLabelOptions] = useState('');\r\n  const navigate = useNavigate();\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const formData = new FormData();\r\n    formData.append('file', file);\r\n    formData.append('datasetName', datasetName);\r\n    formData.append('labelOptions', labelOptions);\r\n\r\n    try {\r\n      await axios.post(`${process.env.REACT_APP_API_URL}/api/items/upload`, formData, {\r\n        headers: { 'Content-Type': 'multipart/form-data' }\r\n      });\r\n      navigate('/');\r\n    } catch (err) {\r\n      alert('Upload failed');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container maxWidth=\"sm\">\r\n      <Typography variant=\"h4\" component=\"h1\" gutterBottom>\r\n        Upload Dataset\r\n      </Typography>\r\n      <Box component=\"form\" onSubmit={handleSubmit} noValidate sx={{ mt: 1 }}>\r\n        <TextField\r\n          margin=\"normal\"\r\n          required\r\n          fullWidth\r\n          id=\"datasetName\"\r\n          label=\"Dataset Name\"\r\n          name=\"datasetName\"\r\n          autoFocus\r\n          value={datasetName}\r\n          onChange={(e) => setDatasetName(e.target.value)}\r\n        />\r\n        <TextField\r\n          margin=\"normal\"\r\n          required\r\n          fullWidth\r\n          id=\"labelOptions\"\r\n          label=\"Label Options (comma-separated)\"\r\n          name=\"labelOptions\"\r\n          value={labelOptions}\r\n          onChange={(e) => setLabelOptions(e.target.value)}\r\n        />\r\n        <input\r\n          accept=\"application/json\"\r\n          style={{ display: 'none' }}\r\n          id=\"raised-button-file\"\r\n          type=\"file\"\r\n          onChange={(e) => setFile(e.target.files[0])}\r\n        />\r\n        <label htmlFor=\"raised-button-file\">\r\n          <Button variant=\"contained\" component=\"span\" fullWidth sx={{ mt: 2, mb: 2 }}>\r\n            Choose JSON File\r\n          </Button>\r\n        </label>\r\n        <Button\r\n          type=\"submit\"\r\n          fullWidth\r\n          variant=\"contained\"\r\n          sx={{ mt: 3, mb: 2 }}\r\n        >\r\n          Upload\r\n        </Button>\r\n      </Box>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default DatasetUpload;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}