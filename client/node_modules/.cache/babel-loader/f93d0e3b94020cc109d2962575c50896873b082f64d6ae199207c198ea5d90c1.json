{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{useParams,useNavigate}from'react-router-dom';import axios from'axios';import{Container,Typography,Button,Box,Paper,LinearProgress,Checkbox,FormControlLabel,Divider}from'@mui/material';import{styled}from'@mui/material/styles';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const StyledPre=styled('pre')(_ref=>{let{theme}=_ref;return{backgroundColor:theme.palette.grey[100],padding:theme.spacing(2),borderRadius:theme.shape.borderRadius,fontSize:'0.9rem',overflowX:'auto',whiteSpace:'pre-wrap',wordWrap:'break-word',maxHeight:'400px',overflowY:'auto','& .key':{color:theme.palette.primary.main,fontWeight:'bold'},'& .string':{color:theme.palette.success.main},'& .number':{color:theme.palette.error.main},'& .boolean':{color:theme.palette.warning.main}};});function LabelingTool(){const[currentItem,setCurrentItem]=useState(null);const[label,setLabel]=useState('');const[progress,setProgress]=useState({total:0,labeled:0});const[labelOptions,setLabelOptions]=useState([]);const[allKeys,setAllKeys]=useState([]);const[selectedKeys,setSelectedKeys]=useState([]);const[contentHeight,setContentHeight]=useState('auto');const{datasetId}=useParams();const navigate=useNavigate();const contentRef=useRef(null);useEffect(()=>{fetchNextItem();fetchProgress();},[datasetId]);useEffect(()=>{if(contentRef.current){const newHeight=Math.min(contentRef.current.scrollHeight,400);setContentHeight(\"\".concat(newHeight,\"px\"));}},[currentItem,selectedKeys]);const fetchNextItem=async()=>{try{const res=await axios.get(\"\".concat(process.env.REACT_APP_API_URL,\"/api/items/next/\").concat(datasetId));if(res.data.msg==='No items in this dataset'){alert('This dataset is empty.');navigate('/');return;}setCurrentItem(res.data);setLabel(res.data.label||'');setLabelOptions(res.data.labelOptions||[]);setAllKeys(res.data.allKeys||[]);if(selectedKeys.length===0){setSelectedKeys(res.data.allKeys||[]);}}catch(err){console.error('Error fetching item',err);alert('Error fetching item');}};const fetchProgress=async()=>{try{const res=await axios.get(\"\".concat(process.env.REACT_APP_API_URL,\"/api/items/progress/\").concat(datasetId));setProgress(res.data);}catch(err){console.error('Error fetching progress',err);}};const submitLabel=async()=>{if(!label){alert('Please select a label before saving.');return;}try{await axios.post(\"\".concat(process.env.REACT_APP_API_URL,\"/api/items/label\"),{itemId:currentItem.id,label});fetchNextItem();fetchProgress();}catch(err){console.error('Error submitting label',err);alert('Error saving label');}};const navigateItem=async direction=>{if(!currentItem)return;try{const res=await axios.get(\"\".concat(process.env.REACT_APP_API_URL,\"/api/items/navigate/\").concat(datasetId,\"/\").concat(currentItem.id,\"/\").concat(direction));if(res.data.msg){alert(res.data.msg);return;}setCurrentItem(res.data);setLabel(res.data.label||'');setLabelOptions(res.data.labelOptions||[]);}catch(err){console.error(\"Error navigating \".concat(direction),err);alert(\"Error navigating \".concat(direction));}};const exportDataset=async()=>{try{const res=await axios.get(\"\".concat(process.env.REACT_APP_API_URL,\"/api/items/export/\").concat(datasetId));const dataStr=\"data:text/json;charset=utf-8,\"+encodeURIComponent(JSON.stringify(res.data,null,2));const downloadAnchorNode=document.createElement('a');downloadAnchorNode.setAttribute(\"href\",dataStr);downloadAnchorNode.setAttribute(\"download\",\"dataset_\".concat(datasetId,\"_export.json\"));document.body.appendChild(downloadAnchorNode);downloadAnchorNode.click();downloadAnchorNode.remove();}catch(err){console.error('Error exporting dataset',err);alert('Error exporting dataset');}};const toggleKey=key=>{setSelectedKeys(prev=>prev.includes(key)?prev.filter(k=>k!==key):[...prev,key]);};const toggleAllKeys=()=>{setSelectedKeys(prev=>prev.length===allKeys.length?[]:[...allKeys]);};const formatJSON=obj=>{return JSON.stringify(obj,null,2).replace(/\"([^\"]+)\":/g,'<span class=\"key\">\"$1\":</span>').replace(/\"([^\"]+)\"/g,'<span class=\"string\">\"$1\"</span>').replace(/\\b(\\d+)\\b/g,'<span class=\"number\">$1</span>').replace(/\\b(true|false)\\b/g,'<span class=\"boolean\">$1</span>');};if(!currentItem){return/*#__PURE__*/_jsx(Typography,{children:\"Loading...\"});}return/*#__PURE__*/_jsxs(Container,{maxWidth:\"md\",children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",component:\"h1\",gutterBottom:true,children:\"Labeling Tool\"}),/*#__PURE__*/_jsxs(Box,{sx:{width:'100%',mb:2},children:[/*#__PURE__*/_jsx(LinearProgress,{variant:\"determinate\",value:progress.labeled/progress.total*100}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",color:\"text.secondary\",children:[\"Progress: \",progress.labeled,\" / \",progress.total]})]}),/*#__PURE__*/_jsxs(Paper,{elevation:3,sx:{p:2,mb:2},children:[/*#__PURE__*/_jsxs(Box,{sx:{mb:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,children:\"Select fields to display:\"}),/*#__PURE__*/_jsx(Button,{onClick:toggleAllKeys,sx:{mb:1},children:selectedKeys.length===allKeys.length?'Deselect All':'Select All'}),/*#__PURE__*/_jsx(Box,{sx:{display:'flex',flexWrap:'wrap'},children:allKeys.map(key=>/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Checkbox,{checked:selectedKeys.includes(key),onChange:()=>toggleKey(key)}),label:key,sx:{width:'50%',mr:0}},key))})]}),/*#__PURE__*/_jsx(Divider,{sx:{my:2}}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,children:\"Item Content:\"}),/*#__PURE__*/_jsx(StyledPre,{ref:contentRef,style:{height:contentHeight},dangerouslySetInnerHTML:{__html:formatJSON(Object.fromEntries(Object.entries(currentItem.content).filter(_ref2=>{let[key]=_ref2;return selectedKeys.includes(key);})))}}),/*#__PURE__*/_jsxs(Box,{sx:{mt:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,children:\"Select Label:\"}),labelOptions.map(option=>/*#__PURE__*/_jsx(Button,{variant:label===option?\"contained\":\"outlined\",onClick:()=>setLabel(option),sx:{mr:1,mb:1},children:option},option))]})]}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',justifyContent:'space-between'},children:[/*#__PURE__*/_jsx(Button,{variant:\"outlined\",onClick:()=>navigateItem('prev'),children:\"PREVIOUS\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:submitLabel,children:\"SAVE AND NEXT\"}),/*#__PURE__*/_jsx(Button,{variant:\"outlined\",onClick:()=>navigateItem('next'),children:\"NEXT\"})]}),/*#__PURE__*/_jsx(Box,{sx:{mt:2},children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:exportDataset,color:\"secondary\",children:\"Export Dataset\"})})]});}export default LabelingTool;","map":{"version":3,"names":["React","useState","useEffect","useRef","useParams","useNavigate","axios","Container","Typography","Button","Box","Paper","LinearProgress","Checkbox","FormControlLabel","Divider","styled","jsx","_jsx","jsxs","_jsxs","StyledPre","_ref","theme","backgroundColor","palette","grey","padding","spacing","borderRadius","shape","fontSize","overflowX","whiteSpace","wordWrap","maxHeight","overflowY","color","primary","main","fontWeight","success","error","warning","LabelingTool","currentItem","setCurrentItem","label","setLabel","progress","setProgress","total","labeled","labelOptions","setLabelOptions","allKeys","setAllKeys","selectedKeys","setSelectedKeys","contentHeight","setContentHeight","datasetId","navigate","contentRef","fetchNextItem","fetchProgress","current","newHeight","Math","min","scrollHeight","concat","res","get","process","env","REACT_APP_API_URL","data","msg","alert","length","err","console","submitLabel","post","itemId","id","navigateItem","direction","exportDataset","dataStr","encodeURIComponent","JSON","stringify","downloadAnchorNode","document","createElement","setAttribute","body","appendChild","click","remove","toggleKey","key","prev","includes","filter","k","toggleAllKeys","formatJSON","obj","replace","children","maxWidth","variant","component","gutterBottom","sx","width","mb","value","elevation","p","onClick","display","flexWrap","map","control","checked","onChange","mr","my","ref","style","height","dangerouslySetInnerHTML","__html","Object","fromEntries","entries","content","_ref2","mt","option","justifyContent"],"sources":["/home/ec2-user/labeling-tool/client/src/pages/LabelingTool.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { Container, Typography, Button, Box, Paper, LinearProgress, Checkbox, FormControlLabel, Divider } from '@mui/material';\nimport { styled } from '@mui/material/styles';\n\nconst StyledPre = styled('pre')(({ theme }) => ({\n  backgroundColor: theme.palette.grey[100],\n  padding: theme.spacing(2),\n  borderRadius: theme.shape.borderRadius,\n  fontSize: '0.9rem',\n  overflowX: 'auto',\n  whiteSpace: 'pre-wrap',\n  wordWrap: 'break-word',\n  maxHeight: '400px',\n  overflowY: 'auto',\n  '& .key': {\n    color: theme.palette.primary.main,\n    fontWeight: 'bold',\n  },\n  '& .string': {\n    color: theme.palette.success.main,\n  },\n  '& .number': {\n    color: theme.palette.error.main,\n  },\n  '& .boolean': {\n    color: theme.palette.warning.main,\n  },\n}));\n\nfunction LabelingTool() {\n  const [currentItem, setCurrentItem] = useState(null);\n  const [label, setLabel] = useState('');\n  const [progress, setProgress] = useState({ total: 0, labeled: 0 });\n  const [labelOptions, setLabelOptions] = useState([]);\n  const [allKeys, setAllKeys] = useState([]);\n  const [selectedKeys, setSelectedKeys] = useState([]);\n  const [contentHeight, setContentHeight] = useState('auto');\n  const { datasetId } = useParams();\n  const navigate = useNavigate();\n  const contentRef = useRef(null);\n\n  useEffect(() => {\n    fetchNextItem();\n    fetchProgress();\n  }, [datasetId]);\n\n  useEffect(() => {\n    if (contentRef.current) {\n      const newHeight = Math.min(contentRef.current.scrollHeight, 400);\n      setContentHeight(`${newHeight}px`);\n    }\n  }, [currentItem, selectedKeys]);\n\n  const fetchNextItem = async () => {\n    try {\n      const res = await axios.get(`${process.env.REACT_APP_API_URL}/api/items/next/${datasetId}`);\n      if (res.data.msg === 'No items in this dataset') {\n        alert('This dataset is empty.');\n        navigate('/');\n        return;\n      }\n      setCurrentItem(res.data);\n      setLabel(res.data.label || '');\n      setLabelOptions(res.data.labelOptions || []);\n      setAllKeys(res.data.allKeys || []);\n      if (selectedKeys.length === 0) {\n        setSelectedKeys(res.data.allKeys || []);\n      }\n    } catch (err) {\n      console.error('Error fetching item', err);\n      alert('Error fetching item');\n    }\n  };\n\n  const fetchProgress = async () => {\n    try {\n      const res = await axios.get(`${process.env.REACT_APP_API_URL}/api/items/progress/${datasetId}`);\n      setProgress(res.data);\n    } catch (err) {\n      console.error('Error fetching progress', err);\n    }\n  };\n\n  const submitLabel = async () => {\n    if (!label) {\n      alert('Please select a label before saving.');\n      return;\n    }\n    try {\n      await axios.post(`${process.env.REACT_APP_API_URL}/api/items/label`, { itemId: currentItem.id, label });\n      fetchNextItem();\n      fetchProgress();\n    } catch (err) {\n      console.error('Error submitting label', err);\n      alert('Error saving label');\n    }\n  };\n\n  const navigateItem = async (direction) => {\n    if (!currentItem) return;\n    try {\n      const res = await axios.get(`${process.env.REACT_APP_API_URL}/api/items/navigate/${datasetId}/${currentItem.id}/${direction}`);\n      if (res.data.msg) {\n        alert(res.data.msg);\n        return;\n      }\n      setCurrentItem(res.data);\n      setLabel(res.data.label || '');\n      setLabelOptions(res.data.labelOptions || []);\n    } catch (err) {\n      console.error(`Error navigating ${direction}`, err);\n      alert(`Error navigating ${direction}`);\n    }\n  };\n\n  const exportDataset = async () => {\n    try {\n      const res = await axios.get(`${process.env.REACT_APP_API_URL}/api/items/export/${datasetId}`);\n      const dataStr = \"data:text/json;charset=utf-8,\" + encodeURIComponent(JSON.stringify(res.data, null, 2));\n      const downloadAnchorNode = document.createElement('a');\n      downloadAnchorNode.setAttribute(\"href\", dataStr);\n      downloadAnchorNode.setAttribute(\"download\", `dataset_${datasetId}_export.json`);\n      document.body.appendChild(downloadAnchorNode);\n      downloadAnchorNode.click();\n      downloadAnchorNode.remove();\n    } catch (err) {\n      console.error('Error exporting dataset', err);\n      alert('Error exporting dataset');\n    }\n  };\n\n  const toggleKey = (key) => {\n    setSelectedKeys(prev => \n      prev.includes(key) ? prev.filter(k => k !== key) : [...prev, key]\n    );\n  };\n\n  const toggleAllKeys = () => {\n    setSelectedKeys(prev => prev.length === allKeys.length ? [] : [...allKeys]);\n  };\n\n  const formatJSON = (obj) => {\n    return JSON.stringify(obj, null, 2)\n      .replace(/\"([^\"]+)\":/g, '<span class=\"key\">\"$1\":</span>')\n      .replace(/\"([^\"]+)\"/g, '<span class=\"string\">\"$1\"</span>')\n      .replace(/\\b(\\d+)\\b/g, '<span class=\"number\">$1</span>')\n      .replace(/\\b(true|false)\\b/g, '<span class=\"boolean\">$1</span>');\n  };\n\n  if (!currentItem) {\n    return <Typography>Loading...</Typography>;\n  }\n\n  return (\n    <Container maxWidth=\"md\">\n      <Typography variant=\"h4\" component=\"h1\" gutterBottom>\n        Labeling Tool\n      </Typography>\n      <Box sx={{ width: '100%', mb: 2 }}>\n        <LinearProgress variant=\"determinate\" value={(progress.labeled / progress.total) * 100} />\n        <Typography variant=\"body2\" color=\"text.secondary\">\n          Progress: {progress.labeled} / {progress.total}\n        </Typography>\n      </Box>\n      <Paper elevation={3} sx={{ p: 2, mb: 2 }}>\n        <Box sx={{ mb: 2 }}>\n          <Typography variant=\"h6\" gutterBottom>\n            Select fields to display:\n          </Typography>\n          <Button onClick={toggleAllKeys} sx={{ mb: 1 }}>\n            {selectedKeys.length === allKeys.length ? 'Deselect All' : 'Select All'}\n          </Button>\n          <Box sx={{ display: 'flex', flexWrap: 'wrap' }}>\n            {allKeys.map((key) => (\n              <FormControlLabel\n                key={key}\n                control={\n                  <Checkbox\n                    checked={selectedKeys.includes(key)}\n                    onChange={() => toggleKey(key)}\n                  />\n                }\n                label={key}\n                sx={{ width: '50%', mr: 0 }}\n              />\n            ))}\n          </Box>\n        </Box>\n        <Divider sx={{ my: 2 }} />\n        <Typography variant=\"h6\" gutterBottom>\n          Item Content:\n        </Typography>\n        <StyledPre \n          ref={contentRef}\n          style={{ height: contentHeight }}\n          dangerouslySetInnerHTML={{ \n            __html: formatJSON(\n              Object.fromEntries(\n                Object.entries(currentItem.content).filter(([key]) => selectedKeys.includes(key))\n              )\n            )\n          }} \n        />\n        <Box sx={{ mt: 2 }}>\n          <Typography variant=\"h6\" gutterBottom>\n            Select Label:\n          </Typography>\n          {labelOptions.map((option) => (\n            <Button\n              key={option}\n              variant={label === option ? \"contained\" : \"outlined\"}\n              onClick={() => setLabel(option)}\n              sx={{ mr: 1, mb: 1 }}\n            >\n              {option}\n            </Button>\n          ))}\n        </Box>\n      </Paper>\n      <Box sx={{ display: 'flex', justifyContent: 'space-between' }}>\n        <Button variant=\"outlined\" onClick={() => navigateItem('prev')}>\n          PREVIOUS\n        </Button>\n        <Button variant=\"contained\" onClick={submitLabel}>\n          SAVE AND NEXT\n        </Button>\n        <Button variant=\"outlined\" onClick={() => navigateItem('next')}>\n          NEXT\n        </Button>\n      </Box>\n      <Box sx={{ mt: 2 }}>\n        <Button variant=\"contained\" onClick={exportDataset} color=\"secondary\">\n          Export Dataset\n        </Button>\n      </Box>\n    </Container>\n  );\n}\n\nexport default LabelingTool;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}